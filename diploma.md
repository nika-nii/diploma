# Введение
В настоящее время быстрыми темпами развиваются системы, основанные на идеях интернета вещей (IoT, Internet of Things), предназначенные для автоматизации различных сфер жизни человека. Автоматизация широко распространяется на производственных предприятиях, в инфраструктуре города (умный город) и в быту. Потребность в технологиях домашней автоматизации, то есть, систем умного дома, создает новый и динамически растущий рынок устройств и программно-аппаратного обеспечения для умных домов.
Маркетинговые исследования говорят о том, что потребители заинтересованы в продукции, связанной с умным домом, и рынок ожидает устойчивый рост. Исследователи называют системы умного дома и умного города ключевой составляющей развития конкуренции в цифровой экономике. [Китаев, Миронова, ссылка] В новых перспективах заинтересованы как крупные компании, желающие диверсифицировать активы, так и новые игроки, желающие войти на формирующийся рынок.
Целью большинства крупных производителей является создание экосистемы, предоставляющей пользователю удобство использования продуктов, принадлежащих к одной линейке устройств. Такой подход привносит преимущества в виде удобства установки и настройки системы, простоты использования и поддержки со стороны производителя. Но ориентированные на существование в экосистеме устройства имеют определенные недостатки: "привязанность" к одному производителю неудобна для пользователя, стремящегося к построению сложной системой, включающей в себя различные типы датчиков и актуаторов. Ассортимент каждого из производителей в отдельности не удовлетворяет требованиям к системе в целом. Сочетание решений из различных линеек устройств или от различных производителей сильно затруднено из-за различий стандартов связи, питания, прикладных протоколов, и т. д.
Продукция более мелких производителей ?????????? 
Унификация решений умного дома затруднена тем, что не существует единого стандарта де-факто на построение систем автоматизации. По мере распространения систем возникает потребность в создании единых протоколов связи для взаимодействия устройств. В настоящее время существует некоторое количество распространенных протоколов проводной и беспроводной связи: [протоколы], однако сложно назвать какой-либо из них доминирующим на рынке.

Вследствие молодости рынка устройств умного дома здесь существуют ниши, в которых большинство производителей не могут предложить удобных для покупателя решений. Крупные производители систем ориентированы на модель использования, предполагающую внедрение элементов умного дома в существующую инфраструктуру домовладения без ее перепланирования. Такими устройствами являются умные розетки, чайники, лампы, и т.д., общими чертами которых является отсутствие необходимости прокладывать дополнительные линии передачи данных и питания. Помимо элементов системы производитель предоставляет сервис для управления системой, как правило, на базе облачных решений. 
У такого подхода имеются определенные достоинства:

- пользователи могут опробовать простые сценарии домашней автоматизации, не изменяя существующей инфраструктуры
- установка, настройка и эксплуатация таких устройств не представляет сложности, т.к. настройка системы производится через простой интерфейс, предоставляемый производителем на базе облачных решений

Однако стоит отметить и недостатки:

- требование возможности работы с облачным сервисом требует от устройств поддержки полного стека сетевых протоколов для выхода в сеть Интернет, что усложняет конструкцию и программное обеспечение
- автономное питание не позволяет обеспечить мощность, требуемую для работы некоторых актуаторов, основанных на двигателях или мощных переключателей, выполняющих такие действия, как управление шторами или отопительными приборами; а переход на питание от бытовой электросети требует встраивания блоков питания и проведения дополнительных линий питания
- зависимость от наличия подключения к сети Интернет делает систему умного дома крайне уязвимой при непредвиденных обстоятельствах
- данные, передаваемые через Интернет, могут стать доступными третьим лицам, следовательно, системы, не предоставляющие достаточно надежный уровень безопасности, могут быть атакованы, что представляет опасность для пользователей

Отдельно следует заметить проблему, связанную с отсутствием единого общепринятого стандарта для взаимодействия элементов системы умного дома. В настоящее время существует несколько широко распространенных протоколов передачи данных, использующихся в системах умного дома: ZigBee, Bluetooth, Wi-Fi, LoRa, (todo: пересмотреть этот момент, добавить прикладные протоколы). Однако ни один из них невозможно назвать стандартом де-факто в индустрии. Производители устройств стремятся создать собственные экосистемы, работающие по проприетарным протоколам прикладного уровня, тем самым закрывая возможность расширения системы. Таким образом, у пользователей нет возможности создавать свою систему из устройств разных производителей; он вынужден использовать устройства из одной экосистемы.

Исходя из обозначенных недостатков, можно сформировать задачу создания комплекса устройств, которые предлагают следующие возможности:

- ориентирована на построение систем "с нуля", то есть, формирование инфраструктуры умного дома, интегрированной с инфраструктурой традиционных коммуникаций и снабжения
- имеет низкую стоимость построения инфраструктуры, что подразумевает как сами устройства, так и линии питания и передачи данных
- количество внешних факторов, влияющих на надежность системы, сведено  к минимуму
- использование в качестве основы открытых стандартов; открытость разрабатываемых протоколов.

### Описание разделов работы

Предметная область, задачи, анализ, методы решения – описываются основные понятия и принципы, закладываемые в системы домашней автоматизации; анализируются существующие решения, проводится выявление существующих проблем и предлагаются варианты их решения.
Проектирование аппаратного обеспечения – процесс проектирования схемотехники аппаратной платформы, сенсоров и актуаторов на ее основе, обоснование выбора компонентов.
Проектирование программного обеспечения – процесс проектирования прикладных протоколов для системы автоматизации и алгоритмов работы устройств.
Программная реализация – спецификации подпрограмм и блок-схемы алгоритмов, описание структур данных, и т.д.

# Основная часть

## Предметная область, задачи, анализ, методы решения

Анализ существующих решений
Необходимо выбрать какие-либо варианты решений.
Смотрим на Apple Home, Xiaomi, Ростелеком, Ujin, что-нибудь еще?

Строим таблицу: стандарт связи, прикладной протокол, тип связи, тип питания, возможно, ассортимент устройств, стоимость, кто управляет ?

Вывод.

Рассматриваемые семейства решений домашней автоматизации нацелены на использование беспроводных технологий связи. Можно выделить такие преимущества данного решения, как:

- простота внедрения системы в существующую инфраструктуру, отсутствие необходимости проводить работы по прокладке линий связи и питания
- возможность быстрого изменения конфигурации системы: легкое добавление и удаление новых устройств, а также перемещение в пределах досягаемости беспроводной сети

Недостатки такого подхода:

- поддержка беспроводных стандартов связи диктует усложнение конструкции устройств, и, как следствие, более высокую стоимость, по сравнению с проводными решениями
- наличие большого количества одновременно вещающих беспроводных устройств приводит к деградации сети из-за большого количества возникающих помех. Ситуация усугубляется тем, что большинство используемых стандартов радиосвязи используют частоты 2.4 ГГц, разрешенные для гражданского применения. Это означает, что беспроводные сети всегда подвержены внешним помехам со стороны других работающих сетей.
- актуаторы, использующие питание от аккумуляторов или батарей, ограничены в используемой мощности


Привести в пример устройства экосистем, таблично сравнить их возможности.

Указать на предоставляемые облачные сервисы.

Найти исследования о том, что данные могут собираться без ведома пользователя.

Обозначить отсутствие определенных модулей.

Указать на недостатки беспроводной связи.

Решение проблем.

Сказать о том, что существуют проекты, предоставляющие пользователю свободу в управлении умным домом, не использующие облачный сервис.

Предложить использовать проводную инфраструктуру, привести в плюсах следующие факторы: отсутствие помех, высокая надежность, возможность организации питания рядом с линиями передачи данных. (Совместить при подготовке инфраструктуры).

Проектирование аппаратной части

Привести в пример несколько вариантов организации шины данных, указать какие-то проекты.
Добавить табличное сравнение вариаций линий данных.
OneWire, Ethernet, Ethernet10, CAN, RS485.
Скорость, дальность, количество проводников, дополнительные возможности, топология.

Будем рассматривать сети с топологией шина, т.к. это экономичнее. 
